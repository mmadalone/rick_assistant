#!/usr/bin/env zsh
# _rick_menu_colorize - Colorize text for Rick's menu system
#
# Usage:
#   _rick_menu_colorize <color> <text>
#
# Arguments:
#   color - The color name from RICK_MENU_COLORS
#   text - The text to colorize
#
# Returns:
#   Prints the colorized text to stdout
#
# Example:
#   _rick_menu_colorize "title" "Rick's Portal Menu"

# Function implementation
_rick_menu_colorize() {
  # Parameter validation
  if [[ $# -lt 2 ]]; then
    echo -n "${2:-}"  # Just output the text if not enough parameters
    return 1
  fi
  
  # Use rick_ prefix for local variables to avoid conflicts
  local rick_color="$1"
  local rick_text="$2"
  
  # Check for color support
  if [[ -n "${_RICK_MENU_SUPPORTS_COLOR}" ]]; then
    # Ensure we're accessing the array properly with proper quoting
    echo -n "${RICK_MENU_COLORS[$rick_color]}${rick_text}${RICK_MENU_COLORS[reset]}"
  else
    # No color support, just output text
    echo -n "$rick_text"
  fi
}

# Call the function with the arguments passed to this script
_rick_menu_colorize "$@" 